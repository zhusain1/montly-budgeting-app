(this.webpackJsonpsection1=this.webpackJsonpsection1||[]).push([[0],{126:function(t,e,a){"use strict";a.r(e);var n=a(2),s=a(10),c=a.n(s),r=a(0),o=a(26),i=a(27),l=a(31),j=a(29),b=a(83),d=a(11),u=a(84),h=a.n(u).a.create({headers:{"Content-Type":"application/json"},baseURL:"http://localhost:8080"}),O=a(159),p=a(173),x=a(163),m=a(165),f=a(164),v=a(59),g=a.n(v),k=a(85),S=a.n(k),T=a(24),y=Object(O.a)((function(){return{root:{width:"100%",height:"100%"}}}));function C(t){var e=t.props,a=y();return Object(n.jsx)("div",{className:a.root,children:e.accounts.map((function(t){return Object(n.jsxs)(p.a,{children:[Object(n.jsx)(x.a,{expandIcon:Object(n.jsx)(g.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(n.jsxs)(f.a,{className:a.heading,children:[Object(n.jsx)("span",{className:"icon",children:Object(n.jsx)(S.a,{})}),Object(n.jsxs)("b",{className:"accountName",children:[" ",t.name," "]})]})}),Object(n.jsx)(m.a,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)(T.b,{to:{pathname:"/transactions",state:{account:t,token:e.accessToken}},children:"View transactions"}),Object(n.jsx)("br",{}),Object(n.jsx)("b",{children:"Type:"})," ",t.subtype,Object(n.jsx)("br",{}),Object(n.jsx)("b",{children:"Balance:"})," $",t.balances.current]})})]},t.account_id)}))})}var w=function(t){Object(l.a)(a,t);var e=Object(j.a)(a);function a(t){var n;Object(o.a)(this,a),(n=e.call(this,t)).transactionData=function(t){h({method:"post",url:"/TransactionDetails",data:{access_token:t}}).then((function(t){console.log(t.data),n.setState({accounts:t.data})}))},n.onSuccess=function(t,e){console.log(t);h({method:"post",url:"/TokenExchange",data:{public_token:t}}).then((function(t){console.log(t.data),n.setState({accessToken:t.data.access_token}),n.saveAccessToken(n.state.accessToken),n.transactionData(t.data.access_token)})),console.log(e)},n.saveAccessToken=function(t){var e={email:n.state.email,access_token:t};h({method:"post",url:"/updateToken",data:e}).then((function(t){console.log(t)}))};var s="";"undefined"===typeof n.props.children.location.state?n.props.history.push("/create"):s=n.props.children.location.state.email,n.state={linkToken:"",accounts:[],accessToken:"",email:s};return h.get("/LinkToken").then((function(t){n.setState({linkToken:t.data.link_token})})),n}return Object(i.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"Plaid",children:[this.state.accounts.length<1&&Object(n.jsx)(b.PlaidLink,{token:this.state.linkToken,onSuccess:this.onSuccess,children:"Connect to bank"}),this.state.accounts.length>0&&Object(n.jsx)(C,{props:this.state})]})}}]),a}(r.Component),N=Object(d.f)(w),D=a(166),A=a(167),_=a(168),L=a.p+"static/media/logo.ede9bd33.png",$=Object(O.a)((function(){return{root:{maxWidth:500,marginTop:50,paddingTop:30,boxShadow:"0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)",transition:"all 0.3s cubic-bezier(.25,.8,.25,1)"}}}));function B(t){var e=t.children,a=$();return Object(n.jsxs)("div",{children:[Object(n.jsx)(D.a,{}),Object(n.jsx)(A.a,{maxWidth:"sm",children:Object(n.jsxs)(_.a,{className:a.root,variant:"outlined",children:[Object(n.jsx)("img",{src:L}),Object(n.jsx)(f.a,{component:"div",style:{textAlign:"center"},children:e})]})})]})}a(49);var I=function(t){return Object(n.jsxs)(B,{children:[Object(n.jsx)("h4",{children:" Monthly Expense Tracker "}),Object(n.jsx)(N,{children:t}),Object(n.jsx)("br",{})]})},P=a(86),U=a.n(P),E=a(169),J=function(t){Object(l.a)(a,t);var e=Object(j.a)(a);function a(t){var s;Object(o.a)(this,a),(s=e.call(this,t)).transactionData=function(t){var e={access_token:s.state.accessToken,account_ids:s.state.account.account_id};h({method:"post",url:t,data:e}).then((function(t){console.log(t.data),s.setState({transactions:t.data.transactions,totalAmount:t.data.totalAmount})}))},s.getCategoryData=function(t){return Object(n.jsxs)("div",{children:[Object(n.jsx)("b",{children:" Category: "}),t.category.map((function(t,e){return Object(n.jsxs)("span",{children:[" ",t," "]},e)}))]})},s.sortLargeTransaction=function(){s.transactionData("/SortedAccountTransactionDetails")},s.sortDateTransaction=function(){s.transactionData("/AccountTransactionDetails")};var c="",r="";return"undefined"===typeof s.props.location.state||void 0===s.props.location.state?s.props.history.push("/"):(c=s.props.location.state.account,r=s.props.location.state.token),s.state={account:c,accessToken:r,transactions:[],totalAmount:-999999},s.transactionData("/AccountTransactionDetails"),s}return Object(i.a)(a,[{key:"componentDidCatch",value:function(t,e){this.props.history.push("/")}},{key:"render",value:function(){var t=this;return Object(n.jsx)(B,{children:this.state.accessToken.length>0&&Object(n.jsxs)("div",{id:"transactions",children:[Object(n.jsxs)("p",{children:[Object(n.jsx)("b",{children:" Account Name: "})," ",this.state.account.name]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("b",{children:" Total balance:  "})," $",this.state.account.balances.current]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("b",{children:" Monthly balance:  "})," $",this.state.totalAmount]}),Object(n.jsx)(E.a,{onClick:function(){return t.sortLargeTransaction()},children:"Sort by larget transaction"}),Object(n.jsx)(E.a,{onClick:function(){return t.sortDateTransaction()},children:"Sort by date"}),this.state.transactions.map((function(e,a){return Object(n.jsxs)(p.a,{children:[Object(n.jsx)(x.a,{expandIcon:Object(n.jsx)(g.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(n.jsxs)(f.a,{children:[Object(n.jsx)("span",{className:"icon",children:Object(n.jsx)(U.a,{})}),Object(n.jsxs)("b",{className:"accountName",children:[" ",e.name," on ",e.date,"  "]})]})}),Object(n.jsx)(m.a,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)("b",{children:"Amount:"}),"$",e.amount,Object(n.jsx)("br",{}),t.getCategoryData(e)]})})]},a)}))]})})}}]),a}(r.Component),M=Object(d.f)(J),W=a(39),q=a(171),z=a(172),R=function(t){Object(l.a)(a,t);var e=Object(j.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).transactionData=function(t){h({method:"post",url:"/TransactionDetails",data:{access_token:t}}).then((function(t){console.log(t.data),n.setState({accounts:t.data})}))},n.handleSubmit=function(t){t.preventDefault();var e={email:n.state.email,password:n.state.password};h({method:"post",url:"/findUser",data:e}).then((function(t){n.setState({accessToken:t.data}),n.setState({error:""}),n.transactionData(t.data)})).catch((function(t){n.setState({error:"Invalid username/password",password:""})}))},n.state={email:"",password:"",accounts:[],accessToken:"",error:""},n.handleSubmit=n.handleSubmit.bind(Object(W.a)(n)),n}return Object(i.a)(a,[{key:"render",value:function(){var t=this;return Object(n.jsxs)(B,{children:[this.state.error.length>0&&Object(n.jsxs)(z.a,{severity:"error",children:[" ",this.state.error]}),Object(n.jsx)("div",{children:this.state.accounts.length<1&&Object(n.jsxs)("div",{children:[Object(n.jsxs)("form",{onSubmit:this.handleSubmit,autoComplete:"off",children:[Object(n.jsx)(q.a,{id:"username",label:"email",onChange:function(e){return t.setState({email:e.target.value})}}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(q.a,{id:"password",label:"password",type:"password",onChange:function(e){return t.setState({password:e.target.value})}}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(E.a,{variant:"outlined",type:"submit",children:"Login"})]}),Object(n.jsx)("br",{})]})}),this.state.accounts.length>0&&Object(n.jsx)(C,{props:this.state})]})}}]),a}(r.Component),V=Object(d.f)(R),F=function(t){Object(l.a)(a,t);var e=Object(j.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).handleSubmit=function(t){t.preventDefault();var e={email:n.state.email,firstName:n.state.firstName,lastName:n.state.lastName,password:n.state.password};h({method:"post",url:"/createUser",data:e}).then((function(t){console.log(t.data),console.log(n.state),n.setState({error:""}),n.props.history.push("/linkBank",{email:n.state.email})})).catch((function(t){n.setState({error:"Please fill out all fields"})}))},n.state={email:"",firstName:"",lastName:"",password:"",error:""},n.handleSubmit=n.handleSubmit.bind(Object(W.a)(n)),n}return Object(i.a)(a,[{key:"render",value:function(){var t=this;return Object(n.jsxs)(B,{children:[this.state.error.length>0&&Object(n.jsxs)(z.a,{severity:"error",children:[" ",this.state.error]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("form",{onSubmit:this.handleSubmit,autoComplete:"off",children:[Object(n.jsx)(q.a,{id:"username",label:"email",onChange:function(e){return t.setState({email:e.target.value})}}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(q.a,{id:"firstName",label:"first name",onChange:function(e){return t.setState({firstName:e.target.value})}}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(q.a,{id:"lastName",label:"last name",onChange:function(e){return t.setState({lastName:e.target.value})}}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(q.a,{id:"password",label:"password",type:"password",onChange:function(e){return t.setState({password:e.target.value})}}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(E.a,{variant:"outlined",type:"submit",children:"Create"})]}),Object(n.jsx)("br",{})]})]})}}]),a}(r.Component),G=a(170);c.a.render(Object(n.jsx)(T.a,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)(G.a,{position:"static",children:Object(n.jsxs)(f.a,{variant:"h6",children:[Object(n.jsx)(T.b,{color:"inherit",to:"/",children:" Login "}),Object(n.jsx)(T.b,{color:"inherit",to:"/create",children:" Create Account "})]})}),Object(n.jsxs)(d.c,{children:[Object(n.jsx)(d.a,{exact:!0,path:"/",component:V}),Object(n.jsx)(d.a,{exact:!0,path:"/linkBank",component:I}),Object(n.jsx)(d.a,{exact:!0,path:"/create",component:F}),Object(n.jsx)(d.a,{exact:!0,path:"/transactions",component:M})]})]})}),document.querySelector("#root"))},49:function(t,e,a){}},[[126,1,2]]]);
//# sourceMappingURL=main.019ee5d6.chunk.js.map